//////////////////////////////////////////////////////////////////////////////
// Project...: drax
// File......: InfoDlg.cpp
// Date......: 22.11.2008
// Author....: Stephan Arlt
//////////////////////////////////////////////////////////////////////////////

#include "StdAfx.h"
#include "InfoDlg.h"

//////////////////////////////////////////////////////////////////////////////
// 
//////////////////////////////////////////////////////////////////////////////
CInfoDlg::CInfoDlg(CWnd *ppwndParent)
: CDialogEx(IDD_INFO, ppwndParent),
  m_kPicture(IDR_DONATE, 210, 20)
{
}

//////////////////////////////////////////////////////////////////////////////
// 
//////////////////////////////////////////////////////////////////////////////
CInfoDlg::~CInfoDlg()
{
}

BEGIN_MESSAGE_MAP(CInfoDlg, CDialogEx)
	ON_WM_PAINT()
END_MESSAGE_MAP()

//////////////////////////////////////////////////////////////////////////////
// 
//////////////////////////////////////////////////////////////////////////////
BOOL CInfoDlg::OnInitDialog()
{
	if ( !CDialogEx::OnInitDialog() )
		return FALSE;

	// set URLs
	m_wndSite.SetURL(_T("https://github.com/stevie910/drax"));
	m_wndDonate.SetURL(DONATION_URL);

	return TRUE;
}

//////////////////////////////////////////////////////////////////////////////
// 
//////////////////////////////////////////////////////////////////////////////
void CInfoDlg::DoDataExchange(CDataExchange *ppkDX)
{
	DDX_Control(ppkDX, IDC_BUTTON_SITE, m_wndSite);
	DDX_Control(ppkDX, IDC_BUTTON_DONATE, m_wndDonate);
}

//////////////////////////////////////////////////////////////////////////////
// 
//////////////////////////////////////////////////////////////////////////////
void CInfoDlg::OnPaint()
{
	// draw picture
	CPaintDC lkDC(this);
	m_kPicture.Paint(&lkDC);
	CDialogEx::OnPaint();
}